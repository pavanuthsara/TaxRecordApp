<div class="container">
  <h2>Tax Records</h2>
  <div class="search-container">
    <input #searchInput (input)="filterRecords(searchInput.value)" type="text" placeholder="Search by Record Title...">
  </div>
  <button class="add-button" routerLink="/add">Add New Tax Record</button>
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>
  <div *ngIf="filteredTaxRecords.length === 0 && !errorMessage" class="no-records">
    <span *ngIf="taxRecords.length > 0">No records match your search.</span>
    <span *ngIf="taxRecords.length === 0">No tax records found.</span>
  </div>
  <table *ngIf="filteredTaxRecords.length > 0" class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Record Title</th>
        <th>Tax Year</th>
        <th>Total Income (LKR)</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let record of filteredTaxRecords">
        <td><a [routerLink]="['/edit', record.id]">{{ record.recordTitle }}</a></td>
        <td>{{ record.taxYear }}</td>
        <td>{{ record.incomeAmount }}</td>
        <td>
          <button [routerLink]="['/record', record.id]">View</button>
          &nbsp;
          <a [routerLink]="['/edit', record.id]">Edit</a>
          &nbsp;
          <button (click)="deleteRecord(record.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
